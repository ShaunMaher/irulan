irulanclient.run(['Apps', function(Apps) {
  Apps.push({
    name: 'irulanwiki',
    enabled: true,
    launcher: {
      label: 'Wiki',
      icon: 'some url',
      // Tooltip
      title: 'Browse the Wiki',
      // What will happen when the user clicks the launcher button?
      click: function() {
        console.log("switch to 'irulanwiki' app.");

        //Pages.show('wiki/') ??
      }
    },
    // Each application will have the ability to specify some colors that will
    //  be applied to the global CSS (e.g. Navbar color) so the user has a clear
    //  indication that they have move to a new app
    theme: {
      colors: {
        color_1: '#FFFFFF',
        color_2: '#000000',
      },
      // The application can also have it's own background image (wallpaper)
      background: {
        image: 'some url',
        color: '#FFFFFF',
      },
    }
  })
}]);

// Register our ability to handle page requests in the "wiki/" name space
irulanclient.run(['WorkspaceProviders', 'WikiPage', 'Pages', function(WorkspaceProviders, WikiPage, Pages) {
  // How can I push the factory?
  WorkspaceProviders.push({
    namespace: 'wiki/',
    factory: WikiPage,
    workspace: Pages,
    hide: Pages.hide,
  });
}]);

// Register the markdownRenderer for handling any data marked as "md"
irulanclient.run(['SourceRenderers', function(PageRenderers) {
  PageRenderers.push({
    sourceFormat: 'md',
    name: 'markdownRenderer'
  });
}]);
